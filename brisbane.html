<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Brisbane Travel Dashboard - Updated</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root { --ferry-free: #e74c3c; --ferry-paid: #3498db; }
        .dashboard-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; padding: 20px; font-family: 'Pretendard', -apple-system, sans-serif; background: #f8f9fa; }
        .card { border-radius: 15px; padding: 20px; background: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border: none; }
        .card-title { font-weight: 800; margin-bottom: 15px; font-size: 1.2rem; display: flex; justify-content: space-between; align-items: center; color: #2c3e50; }
        #map { height: 350px; border-radius: 12px; }
        .schedule-container { height: 600px; overflow-y: auto; padding-right: 10px; }
        .day-section { margin-bottom: 25px; border-left: 4px solid #eee; padding-left: 15px; }
        .day-title { font-weight: bold; color: #333; margin-bottom: 8px; display: block; font-size: 1.05rem; }
        .schedule-item { margin-bottom: 6px; font-size: 0.9rem; line-height: 1.5; color: #555; }
        .ferry-legend { font-size: 0.8rem; margin-bottom: 10px; padding: 8px; background: #fff; border-radius: 8px; display: inline-block; }
        .highlight { color: #e67e22; font-weight: 600; }
        .d-day { background: #ff7675; color: #fff; padding: 2px 8px; border-radius: 20px; font-size: 0.8rem; }
        @media (max-width: 900px) { .dashboard-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="dashboard-container">
    <div style="display: flex; flex-direction: column; gap: 20px;">
        <div class="card">
            <div class="card-title">ğŸŒ¦ï¸ Brisbane Weather</div>
            <div id="weather" style="text-align: center; font-size: 1.5rem; font-weight: bold;">26Â°C / Partly Cloudy</div>
        </div>
        <div class="card">
            <div class="card-title">ğŸ’µ Exchange Rate</div>
            <div id="rate" style="text-align: center; font-size: 1.5rem; font-weight: bold; color: #27ae60;">1 AUD = Loading...</div>
        </div>
        <div class="card">
            <div class="card-title">ğŸ“ Key Spots</div>
            <div id="map"></div>
        </div>
    </div>

    <div class="card">
        <div class="card-title">
            ğŸ“… ìƒì„¸ ì¼ì • <span id="d-day" class="d-day"></span>
        </div>
        <div class="ferry-legend">
            â¤ï¸ ì‹œí‹°í˜¸í¼ (ë¬´ë£Œ) | ğŸ’™ ì‹œí‹°ìº£ (ìœ ë£Œ)
        </div>
        <div class="schedule-container">
            <div class="day-section">
                <span class="day-title">15ì¼ (ì¼) - ì‹œí‹° ì…ì„±</span>
                <div class="schedule-item">ğŸ›¬ 08:05 ë¸Œë¦¬ì¦ˆë²ˆ ë„ì°© / ì…êµ­ ë° ìˆ™ì†Œ ì´ë™</div>
                <div class="schedule-item">ğŸ” 12:10 <span class="highlight">Betti's Burger</span> ì ì‹¬</div>
                <div class="schedule-item">â›´ï¸ 13:30 Holman St â†’ Riverside (â¤ï¸í˜ë¦¬)</div>
                <div class="schedule-item">ğŸ›ï¸ 14:30 í€¸ ìŠ¤íŠ¸ë¦¬íŠ¸ ëª° & Genki Market</div>
                <div class="schedule-item">ğŸŒ³ 16:30 <span class="highlight">ë³´íƒ€ë‹‰ ê°€ë“ </span> í”¼í¬ë‹‰ & ì¼ëª°</div>
            </div>

            <div class="day-section">
                <span class="day-title">16ì¼ (ì›”) - ë¬¸í™” Day</span>
                <div class="schedule-item">ğŸƒ 06:30 ì•„ì¹¨ ëŸ¬ë‹</div>
                <div class="schedule-item">ğŸ¨ 10:00 GOMA ë¯¸ìˆ ê´€ & ì£¼ë¦½ ë„ì„œê´€</div>
                <div class="schedule-item">ğŸ• 12:35 Julius Pizzerai ì ì‹¬</div>
                <div class="schedule-item">ğŸ–ï¸ 15:15 ì‚¬ìš°ìŠ¤ë±…í¬ ì¸ê³µí•´ë³€ & í”¼í¬ë‹‰ (Lune í¬ë¡œì™€ìƒ)</div>
                <div class="schedule-item">ğŸ›’ 18:30 ğŸ’™í˜ë¦¬ë¡œ ì´ë™ í›„ Woolworths ì¥ë³´ê¸°</div>
            </div>

            <div class="day-section">
                <span class="day-title">17ì¼ (í™”) - íŒ¨ë”©í„´ & ìˆ˜ì˜</span>
                <div class="schedule-item">ğŸƒ 06:30 ì•„ì¹¨ ëŸ¬ë‹</div>
                <div class="schedule-item">ğŸ˜ï¸ 10:00 íŒ¨ë”©í„´ ê¸¸ê±°ë¦¬ êµ¬ê²½ & ì»¤í”¼</div>
                <div class="schedule-item">ğŸ 12:40 Marinara Trattoria ì ì‹¬</div>
                <div class="schedule-item">ğŸŠ 14:00 ì‚¬ìš°ìŠ¤ë±…í¬ Street Beach ìˆ˜ì˜</div>
                <div class="schedule-item">ğŸŒ… 17:30 <span class="highlight">ìº¥ê±°ë£¨ í¬ì¸íŠ¸</span> ë…¸ì„ & ì•¼ê²½ ì‚°ì±…</div>
            </div>

            <div class="day-section">
                <span class="day-title">18ì¼ (ìˆ˜) - ì„¬ ì—¬í–‰</span>
                <div class="schedule-item">ğŸï¸ ê·¼êµ <span class="highlight">ë…¸ìŠ¤ ìŠ¤íŠ¸ë˜ë“œë¸Œë¡ ì„¬</span> ì „ì¼ ì¼ì •</div>
            </div>

            <div class="day-section">
                <span class="day-title">19ì¼ (ëª©) - ì˜¤ë¹  í•©ë¥˜!</span>
                <div class="schedule-item">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ 09:30 ê°€ì¡± í•©ë¥˜ ë° íœ´ì‹</div>
                <div class="schedule-item">â˜• 11:40 ì œì„ìŠ¤ ìŠ¤íŠ¸ë¦¬íŠ¸ <span class="highlight">The Green</span> ë¸ŒëŸ°ì¹˜</div>
                <div class="schedule-item">ğŸŒ‰ 14:20 ìŠ¤í† ë¦¬ ë¸Œë¦¿ì§€ ë„ë³´ íš¡ë‹¨</div>
                <div class="schedule-item">â›´ï¸ 14:40 â¤ï¸í˜ë¦¬ íˆ¬ì–´ (Riverside â†’ South Bank)</div>
                <div class="schedule-item">ğŸŒƒ 18:00 ë„¤ë¹Œ ë³´ë„ˆ ë¸Œë¦¿ì§€ ê±´ë„ˆ ì €ë… ì‹ì‚¬</div>
            </div>

            <div class="day-section">
                <span class="day-title">20ì¼ (ê¸ˆ) - ê³¨ë“œì½”ìŠ¤íŠ¸</span>
                <div class="schedule-item">ğŸ„ ê³¨ë“œì½”ìŠ¤íŠ¸ ë‹¹ì¼ì¹˜ê¸°</div>
                <div class="schedule-item">ğŸ¥© ì €ë…: í™ˆë©”ì´ë“œ ìŠ¤í…Œì´í¬ íŒŒí‹°</div>
            </div>

            <div class="day-section">
                <span class="day-title">21ì¼ (í† ) - ë§ˆì§€ë§‰ ë§ˆì¼“</span>
                <div class="schedule-item">ğŸ§º 07:00 <span class="highlight">ì›¨ìŠ¤íŠ¸ì—”ë“œ ë§ˆì¼“</span> (í† ìš”ì¼ í•œì •)</div>
                <div class="schedule-item">ğŸš• 09:00 ìš°ë²„ë¡œ ê³µí•­ ì´ë™</div>
                <div class="schedule-item">ğŸ›« 11:20 ë¸Œë¦¬ì¦ˆë²ˆ ì¶œë°œ</div>
            </div>
        </div>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // D-Day ê³„ì‚°
    const start = new Date('2026-02-15');
    const today = new Date();
    const diff = Math.ceil((start - today) / (1000 * 60 * 60 * 24));
    document.getElementById('d-day').innerText = diff > 0 ? `D-${diff}` : (diff === 0 ? "Day-1!" : "ì—¬í–‰ ì¤‘");

    // í™˜ìœ¨ (ì‹¤ì œ ë°ì´í„°)
    fetch('https://open.er-api.com/v6/latest/AUD')
        .then(res => res.json())
        .then(data => {
            document.getElementById('rate').innerText = `1 AUD = ${data.rates.KRW.toFixed(2)} ì›`;
        });

    // ì§€ë„ ì„¤ì •
    const map = L.map('map').setView([-27.4705, 153.0260], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    const spots = [
        {n: "Betti's Burger", l: [-27.4685, 153.0245]},
        {n: "ë³´íƒ€ë‹‰ ê°€ë“  (ëŸ¬ë‹)", l: [-27.4744, 153.0294]},
        {n: "GOMA ë¯¸ìˆ ê´€", l: [-27.4713, 153.0175]},
        {n: "ì‚¬ìš°ìŠ¤ë±…í¬ ì¸ê³µí•´ë³€", l: [-27.4775, 153.0210]},
        {n: "ìº¥ê±°ë£¨ í¬ì¸íŠ¸", l: [-27.4818, 153.0332]},
        {n: "ì›¨ìŠ¤íŠ¸ì—”ë“œ ë§ˆì¼“", l: [-27.4842, 153.0055]}
    ];
    spots.forEach(s => L.marker(s.l).addTo(map).bindPopup(s.n));
</script>

</body>
</html>
